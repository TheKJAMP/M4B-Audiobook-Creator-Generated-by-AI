# M4B Creator - Generated by ClaudeAI

A user-friendly GUI tool for creating M4B audiobook files with metadata and chapter support, featuring batch processing capabilities.

![Version](https://img.shields.io/badge/version-1.0.3-blue.svg)
![Python Version](https://img.shields.io/badge/python-3.7+-blue.svg)
![License](https://img.shields.io/badge/license-MIT-green.svg)
![Platform](https://img.shields.io/badge/platform-Windows%2010%2F11-blue.svg)
![Electron](https://img.shields.io/badge/Electron-25.9.8-47848F.svg)

### Next contents Update 1.2: 

Ready: ‚úÖ
Not Ready: ‚ùå

- [‚úÖ] Additional language support (English, German)
- [‚úÖ] Custom chapter title editing
- [‚úÖ] Progress bar with percentage
- [‚úÖ] Dark mode theme
- [‚úÖ] New Desing
[Releases](https://github.com/TheKJAMP/M4B-Audiobook-Creator-Generated-by-AI/releases)
### More Languages Version 1.3: 
- [‚ùå] French
- [‚ùå] Spanish
- [‚ùå] Japanese
- [‚ùå] Chinese
- If there are any translation errors, please report them immediately.
I don't speak any of these languages and have to rely on translation tools. 

## Screenshots
Old Tool:
<img width="1403" height="838" alt="grafik" src="https://github.com/user-attachments/assets/4fa8a290-405c-4471-914b-b0c2bc94607e" />

<img width="893" height="593" alt="grafik" src="https://github.com/user-attachments/assets/fafcbe07-58e3-41f4-af3b-6486c0a097e4" />

<img width="902" height="1017" alt="grafik" src="https://github.com/user-attachments/assets/cab5e7e7-fce1-4f6f-a888-c6b1e6981ce7" />


## Features

### üéØ Core Functionality
- **Drag & Drop Support** - Simply drag folders from Windows Explorer onto the app
- **Multi-Folder Processing** - Drop multiple folders at once for batch processing
- **Live Metadata Preview** - View and edit all metadata fields in real-time
- **Chapter Management** - Automatically extracts chapter names from file metadata
- **Cover Art Management** - Automatic cover extraction and display from audio files
- **Quality Options** - Choose between original quality or AAC re-encoding

### üé® Modern UI
- **Clean Interface** - Beautiful gradient design with glass-morphism effects
- **Dark Mode** - Easy on the eyes during long processing sessions
- **Multi-Language** - Supports German and English
- **Progress Tracking** - Status log with detailed feedback
- **Responsive Layout** - Optimized for various screen sizes

### üìÅ Supported Formats
- **Input:** MP3, M4A, M4B, AAC, OGG, FLAC, WAV, WMA
- **Output:** M4B (MPEG-4 Audio Book) with embedded chapters and metadata


## Requirements

### Required Software

1. **FFmpeg** - For audio processing
2. **FFprobe** - For metadata extraction (included with FFmpeg)

### FFmpeg Installation

#### Option 1: WinGet (Recommended)
```bash
winget install Gyan.FFmpeg
```

#### Option 2: Manual Installation
1. Download FFmpeg from [gyan.dev](https://www.gyan.dev/ffmpeg/builds/)
2. Extract the archive to a folder (e.g., `C:\ffmpeg`)
3. Add the `bin` folder to your system PATH:
   - Open System Properties ‚Üí Advanced ‚Üí Environment Variables
   - Edit the `Path` variable
   - Add `C:\ffmpeg\bin` (or your installation path)
   - Click OK and restart any open terminals

#### Verify Installation
```bash
ffmpeg -version
ffprobe -version
```

## Installation

### Option 1: Portable Executable (Recommended)

1. Download the latest `M4B-Creator-v1.0.3-Portable.exe` from the [Releases](https://github.com/TheKJAMP/M4B-Audiobook-Creator-Generated-by-AI/releases) page
2. Place it anywhere on your computer
3. Double-click to run (no installation required)

**Note:** FFmpeg must still be installed separately (see "Requirements")

### Option 2: Build from Source

See the [Building from Source](#building-from-source) section below.

## Usage Guide

### Quick Start

1. **Launch the Application**
   - Double-click `M4B-Creator-v1.0.3-Portable.exe`

2. **Add Folders**
   - **Method 1:** Drag & drop folders from Windows Explorer onto the "folders" panel
   - **Method 2:** Click "Add folder" button and select folders
   - **Multi-Select:** Hold Ctrl to select multiple folders, or drag multiple folders at once

3. **Review Detected Files**
   - Click on a folder in the list to view its details
   - Switch to the "Kapitel" tab to see all audio files
   - Switch to "Metadaten" tab to see extracted metadata and cover art

4. **Edit Metadata (Optional)**
   - Select a folder from the list
   - Click the "Metadaten" tab
   - Edit Title, Author, Album, Year, Genre
   - Upload custom cover artwork if desired
   - Click "√Ñnderungen speichern" to save

5. **Configure Output Settings**
   - **Output Path:** Click "Output Path" to select where M4B files will be saved
     - Leave empty to save in the same folder as the source files
   - **Quality:** Choose between "Original Quality" --> "Recommend" (no re-encoding) or "New (AAC 128k) --> Will be changed later."

6. **Start Processing**
   - Click "‚ö° Start" to begin creating M4B files
   - Monitor progress in the "Status-Log" panel
   - Files will be saved with the folder name as the filename (e.g., `FolderName.m4b`)

### Advanced Features

#### Cover Art Management
- **Automatic Extraction:** Cover art is automatically detected and extracted from audio files
- **Custom Upload:** Click "Upload" to use your own artwork
- **Extract & Save:** Click "Extract" to save embedded cover art to a file
- **Preview:** 300x300 pixel thumbnail preview in the Metadata tab

#### Chapter Names
- **From Metadata:** Chapter names are automatically extracted from the "Title" tag in audio file metadata
- **Fallback:** If no title tag exists, the filename is used as the chapter name
- **Order:** Chapters appear in alphabetical order by filename

#### Batch Processing
- Add multiple folders and click "Start" to process them all sequentially
- Each folder becomes a separate M4B file
- Progress is tracked in the Status Log

## Building from Source

### Prerequisites

1. **Node.js 16 or higher**
   ```bash
   node --version
   ```

2. **npm** (comes with Node.js)
   ```bash
   npm --version
   ```

3. **FFmpeg** (see installation above)

### Build Steps

1. **Clone the Repository**
   ```bash
   git clone https://github.com/TheKJAMP/M4B-Audiobook-Creator-Generated-by-AI.git
   cd M4B-Audiobook-Creator-Generated-by-AI
   ```

2. **Install Dependencies**
   ```bash
   npm install
   ```

3. **Run in Development Mode**
   ```bash
   npm run dev
   ```

   This will:
   - Start the Vite development server (React frontend)
   - Launch Electron in development mode
   - Enable hot-reload for instant updates
   - Open DevTools for debugging

4. **Build for Production**
   ```bash
   npm run electron:build
   ```

   The portable executable will be created in `dist-electron/M4B-Creator-v1.0.3-Portable.exe`

### Development Guide for Electron

This project uses **Electron** as a desktop framework, which combines:
- **Main Process (Node.js)**: Backend logic, file system access, FFmpeg integration
- **Renderer Process (React + TypeScript)**: Frontend UI with modern web technologies

#### Technology Stack

**Frontend (Renderer Process):**
- **React 18** - Component-based UI framework
- **TypeScript** - Type-safe JavaScript with IntelliSense
- **Vite** - Ultra-fast build tool and dev server
- **Tailwind CSS** - Utility-first CSS framework for styling
- **Lucide React** - Modern icon library

**Backend (Main Process):**
- **Electron 25.9.8** - Desktop application framework
- **Node.js** - JavaScript runtime with full system access
- **child_process** - For executing FFmpeg/FFprobe commands
- **fs** - File system operations

**IPC (Inter-Process Communication):**
- **contextBridge** - Secure bridge between main and renderer
- **ipcMain/ipcRenderer** - Bidirectional communication channels

#### Project Architecture

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    Electron Main Process                ‚îÇ
‚îÇ                     (electron/main.js)                  ‚îÇ
‚îÇ  - FFmpeg/FFprobe execution                            ‚îÇ
‚îÇ  - File system operations                              ‚îÇ
‚îÇ  - IPC handlers                                        ‚îÇ
‚îÇ  - Window management                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
                  ‚îÇ IPC Communication
                  ‚îÇ (contextBridge + ipcRenderer)
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              Preload Script (Secure Bridge)             ‚îÇ
‚îÇ                  (electron/preload.js)                  ‚îÇ
‚îÇ  - Exposes safe APIs to renderer                       ‚îÇ
‚îÇ  - No direct Node.js access in renderer                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                  ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                 Renderer Process (UI)                   ‚îÇ
‚îÇ                  (src/*.tsx, src/*.css)                 ‚îÇ
‚îÇ  - React components (App.tsx, MetadataTab.tsx)         ‚îÇ
‚îÇ  - TypeScript business logic                           ‚îÇ
‚îÇ  - Tailwind CSS styling                                ‚îÇ
‚îÇ  - User interactions                                   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

#### Key Development Files

**Main Process:**
- `electron/main.js` - Entry point, window creation, IPC handlers
- `electron/preload.js` - Security bridge exposing APIs to renderer

**Renderer Process:**
- `src/App.tsx` - Main React component (folder management, drag & drop)
- `src/MetadataTab.tsx` - Metadata editor component
- `src/main.tsx` - React entry point
- `src/index.css` - Tailwind CSS styles
- `src/global.d.ts` - TypeScript type definitions for Electron APIs

**Configuration:**
- `package.json` - Dependencies, scripts, build configuration
- `vite.config.ts` - Vite build settings (React, Electron integration)
- `tsconfig.json` - TypeScript compiler options
- `tailwind.config.js` - Tailwind CSS customization
- `postcss.config.js` - PostCSS plugins (Tailwind processing)

#### Adding New Features

**1. Adding a New IPC Handler (Backend):**

In `electron/main.js`:
```javascript
ipcMain.handle('your-handler-name', async (event, arg1, arg2) => {
  try {
    // Your Node.js/FFmpeg logic here
    return { success: true, data: result };
  } catch (error) {
    return { success: false, error: error.message };
  }
});
```

In `electron/preload.js`:
```javascript
contextBridge.exposeInMainWorld('electronAPI', {
  yourFunctionName: (arg1, arg2) => ipcRenderer.invoke('your-handler-name', arg1, arg2),
});
```

In `src/global.d.ts`:
```typescript
interface Window {
  electronAPI: {
    yourFunctionName: (arg1: string, arg2: number) => Promise<{success: boolean, data?: any, error?: string}>;
  };
}
```

**2. Using the API in React:**

In `src/App.tsx` or any component:
```typescript
const handleYourFeature = async () => {
  const result = await window.electronAPI.yourFunctionName('test', 123);
  if (result.success) {
    console.log('Success:', result.data);
  } else {
    console.error('Error:', result.error);
  }
};
```

#### Development Tips

**Hot Reload:**
- Frontend changes (src/*.tsx, src/*.css) reload automatically
- Backend changes (electron/*.js) require restarting `npm run dev`

**Debugging:**
- **Renderer Process**: Chrome DevTools opens automatically in dev mode (F12)
- **Main Process**: Use `console.log()` - output appears in terminal
- Add `mainWindow.webContents.openDevTools()` in main.js to always show DevTools

**TypeScript:**
- Always define types in `global.d.ts` for IPC calls
- Use type-safe interfaces for data structures
- Run `npm run build` to check for type errors

**Common Pitfalls:**
- Don't use Node.js APIs directly in React components (security risk)
- Always use IPC communication through preload.js
- Remember to restart dev server for electron/*.js changes
- Check FFmpeg is in PATH when testing audio processing

#### Build Configuration

The build process is configured in `package.json`:

```json
{
  "scripts": {
    "dev": "vite",                    // Frontend dev server
    "build": "vite build",            // Build React app
    "electron:dev": "electron .",     // Run Electron in dev
    "electron:build": "npm run build && electron-builder"  // Create .exe
  }
}
```

**Electron Builder Configuration:**
- Platform: Windows only (nsis installer + portable)
- Output: `dist-electron/`
- Includes: Built React app + Electron runtime
- Excludes: node_modules, src files, dev dependencies

### Project Structure

```
m4b-creator-electron/
‚îú‚îÄ‚îÄ electron/
‚îÇ   ‚îú‚îÄ‚îÄ main.js          # Electron main process
‚îÇ   ‚îî‚îÄ‚îÄ preload.js       # Preload script (IPC bridge)
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ App.tsx          # Main React component
‚îÇ   ‚îú‚îÄ‚îÄ MetadataTab.tsx  # Metadata editor component
‚îÇ   ‚îú‚îÄ‚îÄ global.d.ts      # TypeScript definitions
‚îÇ   ‚îú‚îÄ‚îÄ index.css        # Tailwind CSS styles
‚îÇ   ‚îî‚îÄ‚îÄ main.tsx         # React entry point
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îî‚îÄ‚îÄ index.html       # HTML template
‚îú‚îÄ‚îÄ package.json         # Project dependencies
‚îú‚îÄ‚îÄ tsconfig.json        # TypeScript configuration
‚îú‚îÄ‚îÄ vite.config.ts       # Vite build configuration
‚îî‚îÄ‚îÄ README.md            # This file
```

## Technical Details

### How It Works

1. **Folder Scanning**
   - Scans dropped/selected folders for supported audio files
   - Extracts metadata using FFprobe
   - Sorts files alphabetically

2. **Metadata Extraction**
   - Reads title, artist, album, year, genre from existing file metadata
   - Detects and extracts embedded cover art
   - Calculates total duration

3. **M4B Creation**
   - Creates FFmpeg concat file list
   - Generates FFMETADATA1 format metadata with chapters
   - Each audio file becomes one chapter
   - Chapter titles use the "Title" metadata tag or filename
   - Embeds cover art as attached picture (PNG format)
   - Concatenates audio streams with metadata

4. **Output**
   - Single M4B file per folder
   - Temporary files automatically cleaned up
   - M4B files compatible with all major audiobook players

### Technologies Used

- **Electron 25.9.8** - Cross-platform desktop framework
- **React 18** - UI framework
- **TypeScript** - Type-safe JavaScript
- **Vite** - Fast build tool
- **Tailwind CSS** - Utility-first CSS framework
- **Lucide React** - Icon library
- **FFmpeg** - Audio processing engine

## Troubleshooting

### FFmpeg Not Found

```
Error: FFmpeg is not installed or not in PATH
```

**Solution:**
1. Install FFmpeg using WinGet: `winget install Gyan.FFmpeg`
2. Or download manually and add to PATH
3. Restart the application
4. Test with `ffmpeg -version` in terminal

### Application Won't Start

**Solution:**
1. Make sure you have Windows 10/11 (64-bit)
2. Try running as Administrator
3. Check Windows Defender hasn't blocked the .exe
4. Ensure FFmpeg is installed and in PATH

### No Audio Files Detected

```
No audio files found!
```

**Solution:**
1. Verify folder contains supported audio files (.mp3, .m4a, .m4b, etc.)
2. Check file extensions are correct
3. Ensure files are not corrupted

### Drag & Drop Not Working

**Solution:**
1. Close and restart the application
2. Use the "Add folder" button instead
3. Make sure you're dragging folders, not individual files

### M4B Creation Fails

**Solution:**
1. Check the Status Log for detailed error messages
2. Ensure output directory has write permissions
3. Verify input audio files are not corrupted
4. Try with "Original quality" instead of re-encoding

## Known Limitations

- **Windows Only:** Currently only builds for Windows (Mac/Linux support planned)
- **Large Files:** Very large audiobooks (100+ hours) may take significant time
- **GUI Language:** Primarily German (English, more later)

## Roadmap

### Version 1.4
- [ ] Mac and Linux builds


## Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request



## Acknowledgments

- Built with Electron and React
- Audio processing powered by [FFmpeg](https://ffmpeg.org/)
- UI components by [Lucide React](https://lucide.dev/)
- Styled with [Tailwind CSS](https://tailwindcss.com/)

## Support

If you encounter issues:

1. Check that FFmpeg is installed: `ffmpeg -version`
2. Review the Status Log in the application
3. Check the Troubleshooting section
4. Open an issue on GitHub.
   - Error message from Status Log
   - Steps to reproduce
   - example audio file. 
   - Your system information (Windows version, FFmpeg version)


## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## Author

Created for audiobook enthusiasts who want a simple, powerful batch conversion tool.
Generated by AI. Claude.ai
---

**Star this repository if you find it useful!**
